(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{182:function(e,t,c){},224:function(e,t,c){},225:function(e,t,c){},236:function(e,t,c){},237:function(e,t,c){},238:function(e,t,c){},239:function(e,t,c){},241:function(e,t,c){},242:function(e,t,c){},281:function(e,t,c){},282:function(e,t,c){},283:function(e,t,c){},382:function(e,t,c){},383:function(e,t,c){},384:function(e,t,c){},386:function(e,t,c){},387:function(e,t,c){},388:function(e,t,c){},389:function(e,t,c){},390:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c.n(n),r=c(18),a=c.n(r),i=(c(224),c(8)),o=(c(225),c(185)),l=c.n(o),u=c(16),d="SEARCH_ADD",j="PRODUCTS_ALL",b="CHECKOUT_ADD",m="CHECKOUT_COUNT",O="CHECKOUT_REMOVE",p="CHECKOUT_TOTALCOST",h="MESSAGE_ADD",f="MESSAGE_REMOVE",x="LOGIN_SUCCESS",v="LOGIN_FAILED",g="REGISTER_SUCCESS",_="REGISTER_FAILED",N="LOGOUT",y=c(35),w=c(187),C=c.n(w),S=c(483),k=c(2);var I=function(){var e=Object(u.d)((function(e){return e.checkout})),t=Object(u.d)((function(e){return e.auth})).isLoggedIn,c=Object(n.useRef)(),s=Object(u.c)();return Object(k.jsxs)("div",{className:"header",children:[Object(k.jsx)("div",{className:"header__wrapper",children:Object(k.jsxs)("form",{className:"header__searchBox",onSubmit:function(e){e.preventDefault();var t=c.current.value;s({type:d,payload:{value:t}})},children:[Object(k.jsx)("input",{type:"text",placeholder:"\u062c\u0633\u062a\u062c\u0648...",ref:c}),Object(k.jsx)(l.a,{})]})}),Object(k.jsx)("div",{className:"header__loginRegister",children:Object(k.jsx)("ul",{children:t?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(y.b,{to:"/",children:Object(k.jsx)("li",{children:"\u062e\u0627\u0646\u0647"})}),Object(k.jsx)(y.b,{to:"/account",children:Object(k.jsx)("li",{children:"\u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc"})}),Object(k.jsx)(y.b,{to:"/checkout",children:Object(k.jsx)("li",{children:Object(k.jsxs)(S.a,{className:"header__basketIcon",children:[Object(k.jsx)(C.a,{}),0===e.length?null:Object(k.jsx)("div",{className:"header__basketBadge",children:e.length})]})})})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(y.b,{to:"/",children:Object(k.jsx)("li",{children:"\u062e\u0627\u0646\u0647"})}),Object(k.jsx)(y.b,{to:"/account/login",children:Object(k.jsx)("li",{children:"\u0648\u0631\u0648\u062f"})}),Object(k.jsx)(y.b,{to:"/account/register",children:Object(k.jsx)("li",{children:"\u062b\u0628\u062a \u0646\u0627\u0645"})})]})})})]})},L=(c(236),c(24));c(237);c(238);var E=function(e){var t=e.content,c=e.title,n=e.icons;return Object(k.jsxs)("div",{className:"widget",children:[Object(k.jsx)("h3",{className:"widget__name",children:c}),t,Object(k.jsx)("div",{className:"widget__footer",children:n})]})};c(239);var R=function(){var e=Object(k.jsxs)("div",{className:"widget__content",children:[Object(k.jsx)("p",{children:"\u0645\u0627 \u0631\u0627 \u062f\u0631 \u0634\u0628\u06a9\u0647 \u0647\u0627\u06cc \u0627\u062c\u062a\u0645\u0627\u0639\u06cc \u062f\u0646\u0628\u0627\u0644 \u06a9\u0646\u06cc\u062f"}),Object(k.jsxs)("div",{className:"widget__icons",children:[Object(k.jsx)("a",{href:"#",children:Object(k.jsx)("img",{className:"widget__icons--style",src:"https://www.freepnglogos.com/uploads/telegram-logo-2.png",alt:""})}),Object(k.jsx)("a",{href:"#",children:Object(k.jsx)("img",{className:"widget__icons--style",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Instagram_logo_2016.svg/768px-Instagram_logo_2016.svg.png",alt:""})})]})]});return Object(k.jsxs)("div",{className:"sidebar",children:[Object(k.jsx)(E,{title:"\u0634\u0628\u06a9\u0647 \u0647\u0627\u06cc \u0627\u062c\u062a\u0645\u0627\u0639\u06cc",content:e}),Object(k.jsx)(E,{title:"\u0634\u0628\u06a9\u0647 \u0647\u0627\u06cc \u0627\u062c\u062a\u0645\u0627\u0639\u06cc",content:e})]})},T=(c(240),c(241),c(188)),F=c.n(T),P=function(e,t){return{type:m,payload:{id:e,count:t}}},M=function(e,t){return{type:p,payload:{id:e,totalCost:t}}},A=function(e,t){return{type:h,payload:{info:e,message:t}}},D=function(){return{type:f}};var U=function(e){var t=e.id,c=e.name,s=e.image,r=e.description,a=e.price,o=Object(n.useState)(a),l=Object(i.a)(o,2),d=l[0],j=l[1];Object(n.useEffect)((function(){var e=(new Intl.NumberFormat).format(a);j(e)}),[a]);var m=Object(u.d)((function(e){return e.checkout})),O=Object(u.d)((function(e){return e.auth})),p=Object(u.c)();return Object(k.jsxs)("div",{className:"product",children:[Object(k.jsxs)("div",{className:"product__content",children:[Object(k.jsx)("img",{src:s,alt:""}),Object(k.jsx)("p",{className:"product__name",children:c}),Object(k.jsx)("p",{className:"product__description",children:r})]}),Object(k.jsxs)("div",{className:"product__footer ",children:[Object(k.jsx)("p",{className:"text-success",children:d}),Object(k.jsx)(S.a,{color:"inherit",onClick:function(){if(O.isLoggedIn)if(m.some((function(e){return e.id===t}))){var e=m.findIndex((function(e){return e.id===t}));console.log(e),p(P(t,m[e].count+1)),p(M(t,m[e].unitPrice*(m[e].count+1))),p(A("alert-success","\u062a\u0639\u062f\u0627\u062f \u06a9\u0627\u0644\u0627 \u0628\u0647 ".concat(m[e].count+1," \u0627\u0641\u0632\u0627\u06cc\u0634 \u06cc\u0627\u0641\u062a")))}else p(function(e,t,c,n){return{type:b,payload:{id:e,name:t,description:c,unitPrice:n}}}(t,c,r,a)),p(A("alert-success","\u0628\u0647 \u0633\u0628\u062f \u06a9\u0627\u0644\u0627 \u0627\u0636\u0627\u0641\u0647 \u0634\u062f"));else console.log(O),p(A("alert-danger","\u0628\u0631\u0627\u06cc \u0627\u0636\u0627\u0641\u0647 \u06a9\u0631\u062f\u0646 \u0628\u0647 \u0633\u0628\u062f \u06a9\u0627\u0644\u0627 \u0628\u0627\u06cc\u062f \u0648\u0627\u0631\u062f \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u0634\u0648\u06cc\u062f."))},children:Object(k.jsx)(F.a,{})})]})]})},q=(c(242),c(484)),B=c(477),G=c(485),J=c(479),H=c(189),K=c.n(H),V=c(26),W=c.n(V),Y=c(42),z=c(63),Q=c.n(z),X=(Q.a.create({baseURL:"http://127.0.0.1:8001/api/products"}),Q.a.create({baseURL:"http://127.0.0.1:8001/api/products"}));var Z=Object(u.b)((function(e){return{product:e.product.items}}),(function(e){return{allProducts:function(){return e(function(){var e=Object(Y.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.get("/").then((function(e){t({type:j,payload:e.data})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.allProducts,c=e.product,s=Object(n.useState)(),r=Object(i.a)(s,2),a=r[0],o=r[1],l=Object(n.useState)(!1),u=Object(i.a)(l,2),d=u[0],j=u[1],b=Object(n.useState)(1),m=Object(i.a)(b,2),O=m[0],p=m[1],h=Object(n.useState)(9),f=Object(i.a)(h,1)[0],x=Object(n.useState)("0"),v=Object(i.a)(x,2),g=v[0],_=v[1],N=function(e){_(e.currentTarget.attributes["data-value"].value)};Object(n.useEffect)((function(){t()}),[]),Object(n.useEffect)((function(){o(c),a&&j(!1)}),[c]);var y=O*f,w=y-f,C=null===a||void 0===a?void 0:a.slice(w,y);return Object(k.jsxs)("div",{className:"feed",children:[Object(k.jsxs)("div",{className:"feed__header",children:[Object(k.jsx)("h3",{children:"\u0645\u062d\u0635\u0648\u0644\u0627\u062a"}),Object(k.jsxs)("div",{className:"feed__category",children:[Object(k.jsx)(q.a,{id:"label",style:{fontFamily:"IRANSans"},children:"\u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc"}),Object(k.jsxs)(B.a,{labelId:"label",style:{fontFamily:"IRANSans"},id:"select",value:g,children:[Object(k.jsx)(G.a,{style:{fontFamily:"IRANSans"},value:"0",onClick:N,children:"\u062a\u0627\u0632\u0647 \u062a\u0631\u06cc\u0646 \u0647\u0627"}),Object(k.jsx)(G.a,{style:{fontFamily:"IRANSans"},value:"1",onClick:N,children:"Twenty"})]})]})]}),Object(k.jsx)("div",{className:"feed__content",children:d?Object(k.jsx)(K.a,{type:"Oval",color:"#212121",height:100,width:100}):Object(k.jsxs)("div",{className:"feed__products",children:[Object(k.jsx)("div",{className:"feed__productsList",children:null===C||void 0===C?void 0:C.map((function(e){return Object(k.jsx)(U,{id:e._id,name:e.name,image:e.image,price:e.price,description:e.description},e._id)}))}),Object(k.jsx)(J.a,{style:{direction:"ltr"},count:Math.ceil((null===a||void 0===a?void 0:a.length)/f),onChange:function(e,t){return p(t)}})]})})]})})),$=(c(281),c(282),c(190)),ee=c.n($);var te=function(e){var t=e.info,c=e.message,s=Object(u.c)();return Object(n.useEffect)((function(){clearTimeout(),c&&setTimeout((function(){return s(D())}),3e3)})),c?Object(k.jsxs)("div",{className:"alert ".concat(t," message"),children:[c,Object(k.jsx)(S.a,{color:"inherit",onClick:function(){return s(D())},children:Object(k.jsx)(ee.a,{})})]}):null};var ce=function(){var e=Object(u.d)((function(e){return e.message})),t=Object(i.a)(e,2);return t[0],t[1],Object(u.c)(),Object(k.jsxs)("div",{className:"main",children:[Object(k.jsx)("div",{className:"main__banner",children:Object(k.jsx)("div",{className:"main__bannerImage"})}),Object(k.jsxs)("div",{className:"main__content",children:[Object(k.jsx)(Z,{}),Object(k.jsx)(R,{})]})]})};c(283);var ne=function(){return Object(k.jsx)("div",{className:"footer",children:Object(k.jsx)("h1",{children:"footer"})})},se=c(44),re=c(37),ae=(c(382),Q.a.create({baseURL:"http://127.0.0.1:8001/api/users"})),ie={register:function(){var e=Object(Y.a)(W.a.mark((function e(t,c,n){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.post("/register",{username:t,password:c,email:n});case 2:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),login:function(){var e=Object(Y.a)(W.a.mark((function e(t,c){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.post("/login",{username:t,password:c}).then((function(e){return e.data.token&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}));case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),logout:function(){localStorage.removeItem("user")}};var oe=function(){var e=Object(L.g)(),t=Object(u.d)((function(e){return e.message})),c=Object(i.a)(t,2),n=(c[0],c[1],Object(u.c)()),s=se.b().shape({username:se.d("\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc \u0631\u0627 \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f").min(6,"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062d\u062f\u0627\u0642\u0644 \u0628\u0627\u06cc\u062f 6 \u062d\u0631\u0641 \u0628\u0627\u0634\u062f.").max(30,"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062d\u062f\u0627\u06a9\u062b\u0631 \u0628\u0627\u06cc\u062f 30 \u062d\u0631\u0641 \u0628\u0627\u0634\u062f.").required("\u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc \u0631\u0627 \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f"),password:se.d("\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0631\u0627 \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f").min(8,"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062d\u062f\u0627\u0642\u0644 \u0628\u0627\u06cc\u062f 8 \u062d\u0631\u0641 \u0628\u0627\u0634\u062f.").required("\u0644\u0637\u0641\u0627 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0631\u0627 \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f"),passwordRepeat:se.d("\u062a\u06a9\u0631\u0627\u0631 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0631\u0627 \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f").when({is:function(e){return!!(e&&e.length>0)},then:se.d().oneOf([se.c("password")],"\u062a\u06a9\u0631\u0627\u0631 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0635\u062d\u06cc\u062d \u0646\u06cc\u0633\u062a!")}).required("\u062a\u06a9\u0631\u0627\u0631 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0631\u0627 \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f."),email:se.d("\u0627\u06cc\u0645\u06cc\u0644 \u0631\u0627 \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f").email("\u0627\u06cc\u0645\u06cc\u0644 \u0645\u0639\u062a\u0628\u0631 \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f").required("\u0644\u0637\u0641\u0627 \u0627\u06cc\u0645\u06cc\u0644 \u0631\u0627 \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f"),acceptTerms:se.a().oneOf([!0],"\u0628\u0627\u06cc\u062f \u0642\u0648\u0627\u0646\u06cc\u0646 \u0633\u0627\u06cc\u062a \u0631\u0627 \u0642\u0628\u0648\u0644 \u06a9\u0646\u06cc\u062f.")});return Object(k.jsx)("div",{className:"register",children:Object(k.jsx)("div",{className:"container",children:Object(k.jsx)(re.c,{initialValues:{username:"",password:"",passwordRepeat:"",email:"",acceptTerms:!1},validationSchema:s,validationOnSubmit:!0,onSubmit:function(t){var c,s,r;n((c=t.username,s=t.password,r=t.email,function(e){return ie.register(c,s,r).then((function(t){return e({type:g}),e({type:h,payload:{info:"alert-success",message:"\u062b\u0628\u062a \u0646\u0627\u0645 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0646\u062c\u0627\u0645 \u0634\u062f"}}),Promise.resolve()}),(function(t){var c=t.response.data;return e({type:_}),e({type:h,payload:{info:"alert-danger",message:c}}),Promise.reject()}))})).then((function(){e.push("/account/login")})).catch((function(){}))},children:function(e){var t=e.errors,c=e.touched;return Object(k.jsxs)(re.b,{className:"register__form form-control",children:[Object(k.jsx)(re.a,{name:"username",className:"register__input form-control",placeholder:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc",autoComplete:"new-username"}),t.username&&c.username?Object(k.jsx)("div",{className:"register__text text-danger",children:t.username}):null,Object(k.jsx)(re.a,{type:"password",name:"password",className:"register__input form-control",placeholder:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631",autoComplete:"new-password"}),t.password&&c.password?Object(k.jsx)("div",{className:"register__text text-danger",children:t.password}):null,Object(k.jsx)(re.a,{type:"password",name:"passwordRepeat",className:"register__input form-control",placeholder:"\u062a\u06a9\u0631\u0627\u0631 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631"}),t.passwordRepeat&&c.passwordRepeat?Object(k.jsx)("div",{className:"register__text text-danger",children:t.passwordRepeat}):null,Object(k.jsx)(re.a,{name:"email",className:"register__input form-control",placeholder:"\u0627\u06cc\u0645\u06cc\u0644"}),t.email&&c.email?Object(k.jsx)("div",{className:"register__text text-danger",children:t.email}):null,Object(k.jsxs)("div",{className:"register__formCheck",children:[Object(k.jsx)(re.a,{type:"checkbox",name:"acceptTerms",className:"form-check-input",id:"rememberCheckBox"}),Object(k.jsxs)("label",{htmlFor:"rememberCheckBox",children:[" ",Object(k.jsx)("a",{href:"#\u0642\u0648\u0627\u0646\u06cc\u0646",children:"\u0642\u0648\u0627\u0646\u06cc\u0646"})," \u0631\u0627 \u0642\u0628\u0648\u0644 \u062f\u0627\u0631\u0645"]})]}),t.acceptTerms&&c.acceptTerms?Object(k.jsx)("div",{className:"register__text text-danger",children:t.acceptTerms}):null,Object(k.jsx)("button",{type:"submit",className:"btn btn-primary",children:Object(k.jsx)("span",{children:"\u062b\u0628\u062a \u0646\u0627\u0645"})})]})}})})})};c(383);var le=Object(u.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn,message:e.message.message}}))((function(e){var t=e.isLoggedIn,c=Object(n.useState)(!1),s=Object(i.a)(c,2),r=s[0],a=s[1],o=Object(u.c)(),l=Object(L.g)();if(t)return console.log("Login"),Object(k.jsx)(L.a,{to:"/account"});var d=se.b().shape({username:se.d().min(2,"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062d\u062f\u0627\u0642\u0644 ").required("\u0644\u0637\u0641\u0627 \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f"),password:se.d().min(2,"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0648\u0627\u0631\u062f \u0634\u062f\u0647 \u06a9\u0648\u062a\u0627\u0647 \u0627\u0633\u062a!").required("\u0644\u0637\u0641\u0627 \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f")});return Object(k.jsx)("div",{className:"login",children:Object(k.jsx)("div",{className:"container",children:Object(k.jsx)(re.c,{initialValues:{username:"",password:""},validationSchema:d,validateOnSubmit:!0,onSubmit:function(e){var t,c;a(!0),o((t=e.username,c=e.password,function(e){return ie.login(t,c).then((function(t){return console.log("Userservice login"),e({type:x,payload:{user:t}}),Promise.resolve()}),(function(t){return e({type:v}),e({type:h,payload:{info:"alert-danger",message:t.response.data}}),Promise.reject()}))})).then((function(){l.push("/account"),window.location.reload()})).catch((function(){a(!1)}))},children:function(e){var t=e.errors,c=e.touched;return Object(k.jsxs)(re.b,{className:"login__form form-control",children:[Object(k.jsx)(re.a,{name:"username",className:" login__input form-control",placeholder:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc"}),t.username&&c.username?Object(k.jsx)("div",{className:"login__text text-danger",children:t.username}):null,Object(k.jsx)(re.a,{type:"password",name:"password",className:" login__input form-control",placeholder:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631"}),t.password&&c.password?Object(k.jsx)("div",{className:"login__text text-danger",children:t.password}):null,Object(k.jsxs)("div",{className:"login__formCheck",children:[Object(k.jsx)(re.a,{type:"checkbox",name:"checkbox",className:"form-check-input",id:"rememberCheckBox"}),Object(k.jsxs)("label",{htmlFor:"rememberCheckBox",children:[" ","\u0645\u0631\u0627 \u0628\u0647 \u062e\u0627\u0637\u0631 \u0628\u0633\u067e\u0627\u0631"]})]}),Object(k.jsxs)("button",{type:"submit",className:"btn btn-success",children:[r&&Object(k.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(k.jsx)("span",{children:"\u0648\u0631\u0648\u062f"})]})," "]})}})})})}));c(182),c(384);var ue=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),c=(t[0],t[1]),s=Object(n.useState)(),r=Object(i.a)(s,2),a=r[0],o=r[1];return Object(k.jsxs)("div",{className:"productAdd form-control",children:[Object(k.jsx)("input",{type:"text",className:"form-control",placeholder:"\u0646\u0627\u0645 \u06a9\u0627\u0644\u0627",required:!0}),Object(k.jsx)("input",{type:"text",className:"form-control",placeholder:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u06a9\u0627\u0644\u0627",required:!0}),Object(k.jsx)("input",{type:"file",className:"form-control",placeholder:"",onChange:function(e){c(e.target.files[0])},required:!0}),Object(k.jsx)("input",{type:"text",className:"form-control",placeholder:"\u0642\u06cc\u0645\u062a \u06a9\u0627\u0644\u0627",value:a,onChange:function(e){var t=e.target;if(isNaN(parseInt(t.value)))o();else{var c=t.value.replace(/\D/g,""),n=parseInt(c).toLocaleString();o(n)}},required:!0}),Object(k.jsx)("input",{type:"button",value:"\u0627\u0636\u0627\u0641\u0647 \u06a9\u0631\u062f\u0646 \u06a9\u0627\u0644\u0627",className:"btn btn-primary"})]})},de=c(25),je=c(196),be=c(121),me=c.n(be),Oe=c(475),pe=c(476),he=(c(385),c(386),Q.a.create({baseURL:"http://127.0.0.1:8001/api/users"}));var fe=function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),c=Object(n.useRef)(),s=Object(n.useState)(!1),r=Object(i.a)(s,2),a=r[0],o=r[1],l=Object(n.useState)([]),u=Object(i.a)(l,2),d=u[0],j=u[1],b=Object(n.useState)({}),m=Object(i.a)(b,2),O=m[0],p=m[1],h=Object(n.useState)(!1),f=Object(i.a)(h,2),x=f[0],v=f[1],g=Object(n.useState)(""),_=Object(i.a)(g,2),N=_[0],y=_[1],w=Object(n.useState)([]),C=Object(i.a)(w,2),S=C[0],I=C[1],L=function(){o(!1),v(!1)},E=function(e){o(!0),p(e)},R=function(){var e=Object(Y.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he.delete("/".concat(t._id));case 2:L();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(Y.a)(W.a.mark((function e(t){var c,n,s,r,a,i,o=arguments;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=o.length>1&&void 0!==o[1]?o[1]:null,n=o.length>2&&void 0!==o[2]?o[2]:null,s=o.length>3&&void 0!==o[3]?o[3]:null,r=c||t.username,a=n||t.password,i=s||t.email,e.next=8,he.patch("/".concat(t._id,"/").concat(r,"/").concat(a,"/").concat(i));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){he.get("/").then((function(e){j(e.data)}))}),[d]),Object(n.useEffect)((function(){I(d.filter((function(e){return e.username.toLowerCase().includes(null===N||void 0===N?void 0:N.toLowerCase())})))}),[N]),Object(k.jsxs)("div",{className:"usersManage form-control",children:[Object(k.jsx)("div",{className:"usersManage__header",children:Object(k.jsx)(Oe.a,{freeSolo:!0,options:d.map((function(e){return e.username})),onChange:function(e,t){y(t)},renderInput:function(e){return Object(k.jsx)(pe.a,Object(de.a)(Object(de.a)({},e),{},{label:"Search",InputProps:Object(de.a)(Object(de.a)({},e.InputProps),{},{type:"search"}),variant:"filled"}))}})}),Object(k.jsxs)("div",{className:"usersManage__usersList",children:[N?S.map((function(e){return Object(k.jsx)("div",{className:"usersManage__item",onClick:function(){return E(e)},children:e.username},e._id)})):null===d||void 0===d?void 0:d.map((function(e){return Object(k.jsx)("div",{className:"usersManage__item",onClick:function(){return E(e)},children:e.username},e._id)})),Object(k.jsxs)(je.a,{visible:a,onClose:L,animation:"fade",className:"usersManage__modal",children:[x?Object(k.jsxs)("div",{className:"usersManage__modalContent form-control",children:[Object(k.jsx)("input",{type:"username",placeholder:O.username,className:"form-control",ref:e}),Object(k.jsx)("input",{type:"password",placeholder:O.password,className:"form-control",autoComplete:"new-password",ref:t}),Object(k.jsx)("input",{type:"email",placeholder:O.email,className:"form-control",ref:c})]}):Object(k.jsxs)("div",{className:"usersManage__modalContent form-control",children:[Object(k.jsxs)("div",{children:["\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc : ",Object(k.jsx)("span",{children:O.username})]}),Object(k.jsxs)("div",{children:["\u0627\u06cc\u0645\u06cc\u0644 : ",Object(k.jsx)("span",{children:O.email})]}),Object(k.jsxs)("div",{children:["\u0645\u062f\u06cc\u0631 : ",Object(k.jsx)("span",{children:O.admin?"Yes":"No"})]})]}),x?Object(k.jsxs)("div",{className:"usersManage__modalFooter",children:[Object(k.jsx)("button",{className:"btn btn-primary",onClick:function(){return T(O,e.current.value,t.current.value,c.current.value)},children:"\u0648\u06cc\u0631\u0627\u06cc\u0634"}),Object(k.jsx)("button",{className:"btn btn-outline-success",onClick:function(){return v(!1)},children:"\u062e\u0631\u0648\u062c \u0627\u0632 \u062d\u0627\u0644\u062a \u0648\u06cc\u0631\u0627\u06cc\u0634"})]}):Object(k.jsxs)("div",{className:"usersManage__modalFooter",children:[Object(k.jsxs)("button",{className:"btn btn-danger btn-sm",onClick:function(){return R(O)},children:["\u062d\u0630\u0641 \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc ",Object(k.jsx)(me.a,{})]}),Object(k.jsx)("button",{className:"btn btn-outline-success btn-sm",onClick:function(){return v(!0)},children:"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc"}),Object(k.jsx)("button",{className:"btn btn-outline-primary ",onClick:L,children:"\u0628\u0633\u062a\u0646"})]})]})]})]})};c(387);var xe=function(e){var t=e.option;return 0===t?Object(k.jsx)("div",{className:"option",children:Object(k.jsx)(ue,{})}):1===t?Object(k.jsx)("div",{className:"option",children:Object(k.jsx)(fe,{})}):2===t?Object(k.jsx)("div",{className:"option",children:"2"}):3===t?Object(k.jsx)("div",{className:"option",children:"3"}):void 0};var ve=Object(u.b)((function(e){var t=e.auth;return{isLoggedIn:t.isLoggedIn,user:t.user}}))((function(e){var t=e.isLoggedIn,c=e.user,r=Object(n.useState)(0),a=Object(i.a)(r,2),o=a[0],l=a[1];return s.a.useEffect((function(){var e=JSON.parse(localStorage.getItem("user"));if(e){1e3*function(e){try{return JSON.parse(atob(e.split(".")[1]))}catch(t){return null}}(e.token).exp-Date.now()<300&&(ie.logout(),window.location.reload())}}),[]),t?Object(k.jsxs)("div",{className:"account",children:[Object(k.jsx)("div",{className:"account__sideOptions",children:Object(k.jsxs)("ul",{children:[Object(k.jsx)(y.b,{to:"/",className:"active",children:Object(k.jsx)("li",{children:"\u062e\u0627\u0646\u0647"})}),(null===c||void 0===c?void 0:c.admin)?Object(k.jsx)("li",{onClick:function(){return l(0)},children:"\u0627\u0636\u0627\u0641\u0647 \u06a9\u0631\u062f\u0646 \u06a9\u0627\u0644\u0627"}):null,(null===c||void 0===c?void 0:c.admin)?Object(k.jsx)("li",{onClick:function(){return l(1)},children:"\u0645\u062f\u06cc\u0631\u06cc\u062a \u06a9\u0627\u0631\u0628\u0631\u0627\u0646"}):null,Object(k.jsx)(y.b,{to:"/checkout",children:Object(k.jsx)("li",{children:"\u0633\u0628\u062f \u062e\u0631\u06cc\u062f"})}),Object(k.jsx)("li",{onClick:function(){return l(3)},children:"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc"}),Object(k.jsx)("li",{onClick:function(){ie.logout(),window.location.reload()},children:"\u062e\u0631\u0648\u062c \u0627\u0632 \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc"})]})}),Object(k.jsx)("div",{className:"account__content",children:Object(k.jsx)(xe,{option:o})})]}):(console.log("account"),Object(k.jsx)(L.a,{to:"/account/login"}))})),ge=(c(388),c(478)),_e=c(198),Ne=c.n(_e);c(389);var ye=function(e){var t=e.id,c=e.name,s=e.description,r=e.unitCost,a=e.totalCost,o=e.countCh,l=Object(n.useRef)(),d=Object(n.useState)(o),j=Object(i.a)(d,2),b=j[0],m=j[1],p=Object(u.c)(),h=Object(u.d)((function(e){return e.message})),f=Object(i.a)(h,2),x=(f[0],f[1],function(e){return(new Intl.NumberFormat).format(e)});return Object(k.jsxs)("div",{className:"checkoutItem",children:[Object(k.jsxs)("div",{className:"checkoutItem__info",children:[Object(k.jsx)("h4",{children:c}),Object(k.jsx)("p",{children:s})]}),Object(k.jsxs)("div",{className:"checkoutItem__buyInfo",children:[Object(k.jsxs)("div",{className:"checkoutItem__unitCost",children:["\u0642\u06cc\u0645\u062a \u0648\u0627\u062d\u062f : ",x(r)," "]}),Object(k.jsxs)("div",{className:"checkoutItem__totalCost",children:["\u0642\u06cc\u0645\u062a \u06a9\u0644 : ",x(a)]}),Object(k.jsx)("input",{type:"number",min:"0",className:"form-control",ref:l,value:b,onChange:function(e){var c=l.current.value*r;p(P(t,parseInt(l.current.value))),p(M(t,c)),m(e.target.value)}}),Object(k.jsx)(S.a,{color:"error",onClick:function(){p(function(e){return{type:O,payload:{id:e}}}(t)),p(p(A("alert-danger","\u0627\u0632 \u0633\u0628\u062f \u06a9\u0627\u0644\u0627 \u062d\u0630\u0641 \u0634\u062f")))},children:Object(k.jsx)(me.a,{})})]})]})};var we=function(){var e=Object(n.useState)(0),t=Object(i.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(!1),a=Object(i.a)(r,2),o=a[0],l=a[1],d=Object(u.d)((function(e){return e.checkout}));return Object(n.useEffect)((function(){var e,t=0;d.map((function(e){return t+=e.unitPrice*e.count})),isNaN(t)?s(0):s((e=t,(new Intl.NumberFormat).format(e)))}),[d]),Object(k.jsxs)("div",{className:"checkout",children:[Object(k.jsxs)("div",{className:"checkout__header",children:[Object(k.jsx)("h3",{children:"\u0633\u0628\u062f \u062e\u0631\u06cc\u062f"}),Object(k.jsxs)("div",{className:"checkout__wraper",children:[Object(k.jsx)(ge.a,{endIcon:Object(k.jsx)(Ne.a,{}),onClick:function(){return l(!0)},loading:o,loadingPosition:"end",variant:"contained",children:"\u0646\u0647\u0627\u06cc\u06cc \u06a9\u0631\u062f\u0646 \u062e\u0631\u06cc\u062f"}),Object(k.jsxs)("p",{className:"text-success",children:["\u0645\u062c\u0645\u0648\u0639 \u062e\u0631\u06cc\u062f : ",c]})]})]}),Object(k.jsx)("div",{className:"container",children:Object(k.jsx)("div",{className:"checkout__products",children:null===d||void 0===d?void 0:d.map((function(e,t){return Object(k.jsx)(ye,{id:e.id,name:e.name,description:e.description,unitCost:e.unitPrice,totalCost:e.totalCost,countCh:e.count},t)}))})})]})},Ce=c(199),Se=Object(L.h)((function(e){return e.history.listen((function(){var t=JSON.parse(localStorage.getItem("user"));t&&(1e3*Object(Ce.a)(t.token).exp<Date.now()&&e.logOut())})),Object(k.jsx)("div",{})}));var ke=function(){var e=Object(u.d)((function(e){return e.message})),t=Object(i.a)(e,2),c=t[0],n=t[1];return Object(k.jsx)(y.a,{children:Object(k.jsxs)("div",{className:"App",children:[Object(k.jsx)(I,{}),Object(k.jsx)(te,{info:c,message:n}),Object(k.jsxs)(L.d,{children:[Object(k.jsx)(L.b,{path:"/account/register",children:Object(k.jsx)(oe,{})}),Object(k.jsx)(L.b,{path:"/account/login",children:Object(k.jsx)(le,{})}),Object(k.jsx)(L.b,{path:"/checkout",children:Object(k.jsx)(we,{})}),Object(k.jsx)(L.b,{path:"/account",children:Object(k.jsx)(ve,{})}),Object(k.jsxs)(L.b,{path:"/",children:[Object(k.jsx)(ce,{}),Object(k.jsx)(ne,{})]})]}),Object(k.jsx)(Se,{logOut:ie.logout})]})})},Ie=c(82),Le=c(200),Ee=c(201),Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"test",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return t.payload.value;default:return e}},Te=c(480),Fe={items:[{_id:Object(Te.a)(),name:"product 1",description:"best product 1",image:"https://picsum.photos/301/300",price:25e3},{_id:Object(Te.a)(),name:"product 2",description:"best product 2",image:"https://picsum.photos/301/300",price:5e4},{_id:Object(Te.a)(),name:"product 1",description:"best product 1",image:"https://picsum.photos/303/300",price:25e3},{_id:Object(Te.a)(),name:"product 2",description:"best product 2",image:"https://picsum.photos/301/301",price:5e4},{_id:Object(Te.a)(),name:"product 1",description:"best product 1",image:"https://picsum.photos/306/300",price:253e3},{_id:Object(Te.a)(),name:"dad 2",description:"best product 2",image:"https://picsum.photos/301/300",price:52e4}]},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case j:return Object(de.a)(Object(de.a)({},e),{},{items:n});default:return e}},Me=[],Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case b:return e.push({id:n.id,name:n.name,description:n.description,unitPrice:n.unitPrice,totalCost:n.unitPrice,count:1}),e;case m:return e.map((function(e){return e.id!==n.id?e:Object(de.a)(Object(de.a)({},e),{},{count:n.count})}));case p:return e.map((function(e){return e.id!==n.id?e:Object(de.a)(Object(de.a)({},e),{},{totalCost:n.totalCost})}));case O:return e.filter((function(e){return e.id!==n.id}));default:return e}},De=[null,null],Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case h:return[n.info,n.message];case f:return"";default:return e}},qe=JSON.parse(localStorage.getItem("user")),Be=qe?{isLoggedIn:!0,user:qe}:{isLoggedIn:!1,user:null},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case g:case _:return Object(de.a)(Object(de.a)({},e),{},{isLoggedIn:!1});case x:return Object(de.a)(Object(de.a)({},e),{},{isLoggedIn:!0,user:n.user});case v:case N:return Object(de.a)(Object(de.a)({},e),{},{isLoggedIn:!1,user:null});default:return e}},Je=Object(Ie.combineReducers)({search:Re,product:Pe,checkout:Ae,message:Ue,auth:Ge}),He=[Le.a],Ke=Object(Ie.createStore)(Je,Object(Ee.composeWithDevTools)(Ie.applyMiddleware.apply(void 0,He))),Ve=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,489)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),n(e),s(e),r(e),a(e)}))};a.a.render(Object(k.jsx)(s.a.StrictMode,{children:Object(k.jsx)(u.a,{store:Ke,children:Object(k.jsx)(ke,{})})}),document.getElementById("root")),Ve()}},[[390,1,2]]]);
//# sourceMappingURL=main.4ec6e824.chunk.js.map